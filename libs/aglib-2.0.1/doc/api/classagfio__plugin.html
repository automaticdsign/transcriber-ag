<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>agfio_plugin class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>agfio_plugin Class Reference</h1>AG file I/O plugin interface. 
<a href="#_details">More...</a>
<p>
<a href="classagfio__plugin-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>virtual list&lt; AGId &gt;&nbsp;</td><td valign=bottom><a class="el" href="classagfio__plugin.html#a0">load</a> (const string &amp;filename, const Id &amp;id="", map&lt; string, string &gt; *signalInfo=NULL, map&lt; string, string &gt; *options=NULL)  throw (agfio::LoadError)</td></tr>
<tr><td nowrap align=right valign=top>virtual string&nbsp;</td><td valign=bottom><a class="el" href="classagfio__plugin.html#a1">store</a> (const string &amp;filename, const Id &amp;id, map&lt; string, string &gt; *options=NULL)  throw (agfio::StoreError)</td></tr>
<tr><td nowrap align=right valign=top>virtual string&nbsp;</td><td valign=bottom><a class="el" href="classagfio__plugin.html#a2">store</a> (const string &amp;filename, list&lt; string &gt; *const ids, map&lt; string, string &gt; *options=NULL)  throw (agfio::StoreError)</td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>DllExport void&nbsp;</td><td valign=bottom><a class="el" href="classagfio__plugin.html#b0">auto_init</a> (const Id &amp;id, map&lt; string, string &gt; *signalInfo, AGSetId &amp;agsetId, TimelineId &amp;timelineId, SignalId &amp;signalId, AGId &amp;agId)  throw (const string&amp;)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
AG file I/O plugin interface.
<p>
agfio_plugin is an interface to AG file I/O plugins. Plugins should inherit this class and implement <code>load()</code> and <code>store()</code> functions. 
<p>
<hr><h2>Member Function Documentation</h2>
<a name="b0" doxytag="agfio_plugin::auto_init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DllExport void agfio_plugin::auto_init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const Id &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>id</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>map&lt; string, string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>signalInfo</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>AGSetId &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>agsetId</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>TimelineId &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>timelineId</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SignalId &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>signalId</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>AGId &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>agId</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (const string&amp;)<code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to get appropriate AGSetId, AGId, TimelineId and SignalId for loading, using an algorithm described in the following table:
<p>
  <table border=1 cellspacing=3 cellpadding=3><tr><td>AGSet<sub><code>id</code></sub><br>
exists </td><td>AG<sub><code>id</code></sub><br>
exists </td><td>signalInfo<br>
is NULL </td><td>Result 
<p>
 </td></tr>
<tr><td>Y</td><td>Y</td><td>Y </td><td> <li><code>agsetId</code>=id of AGSet<sub><code>id</code></sub> containing AG<sub><code>id</code></sub> <li><code>timelineId</code>=id of AG<sub><code>id</code></sub>'s Timeline <li><code>signalId</code>=empty string <li><code>agId</code>=<code>id</code>  
<p>
 </td></tr>
<tr><td>Y</td><td>Y</td><td>N </td><td> <li><code>agsetId</code>=id of AGSet<sub><code>id</code></sub> containing AG<sub><code>id</code></sub> <li><code>timelineId</code>=id of AG<sub><code>id</code></sub>'s Timeline <li><code>signalId</code>=id of matched (with <code>signalInfo</code>) Signal or a new Signal if no Signal is matched <li><code>agId</code>=<code>id</code>  
<p>
 </td></tr>
<tr><td>Y</td><td>N</td><td>Y </td><td> <li><code>agsetId</code>=<code>id</code> <li><code>timelineId</code>=id of a new Timeline <li><code>signalId</code>=empty string <li><code>agId</code>=id of a new AG  
<p>
 </td></tr>
<tr><td>Y</td><td>N</td><td>N </td><td> <li><code>agsetId</code>=<code>id</code> <li><code>timelineId</code>=id of a new Timeline <li><code>signalId</code>=id of a new Signal <li><code>agId</code>=id of a new AG  
<p>
 </td></tr>
<tr><td>N</td><td>N</td><td>Y </td><td> <li><code>agsetId</code>=id of a new AGSet <li><code>timelineId</code>=id of a new Timeline <li><code>signalId</code>=empty string <li><code>agId</code>=id of a new AG  
<p>
 </td></tr>
<tr><td>N</td><td>N</td><td>N </td><td> <li><code>agsetId</code>=id of a new AGSet <li><code>timelineId</code>=id of a new Timeline <li><code>signalId</code>=id of a new Signal <li><code>agId</code>=id of a new AG   </td></tr></table>

<p>
Note that AGSet<sub><code>id</code></sub> is an <a class="el" href="classAGSet.html">AGSet</a> which is identified by <code>id</code>. Similarly, AG<sub><code>id</code></sub> is an <a class="el" href="classAG.html">AG</a> which is identified by <code>id</code>.<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>id</em>&nbsp;</td><td>
<code>id</code> that is given to <code>load()</code>. </td></tr>
<tr><td valign=top><em>signalInfo</em>&nbsp;</td><td>
<code>signalInfo</code> that is given to <code>load()</code>. </td></tr>
<tr><td valign=top><em>agsetId</em>&nbsp;</td><td>
Output parameter for an AGSetId </td></tr>
<tr><td valign=top><em>timelineId</em>&nbsp;</td><td>
Output parameter for a TimelineId </td></tr>
<tr><td valign=top><em>signalId</em>&nbsp;</td><td>
Output parameter for a SignalId </td></tr>
<tr><td valign=top><em>agsetId</em>&nbsp;</td><td>
Output parameter for an AGId </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a0" doxytag="agfio_plugin::load"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual list&lt;AGId&gt; agfio_plugin::load </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const Id &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>id</em> = "", </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>map&lt; string, string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>signalInfo</em> = NULL, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>map&lt; string, string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>options</em> = NULL</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classagfio_1_1LoadError.html">agfio::LoadError</a>)<code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load a file, converting it to <a class="el" href="classAG.html">AG</a>'s.<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>filename</em>&nbsp;</td><td>
A path (absolute or relative) to the file. </td></tr>
<tr><td valign=top><em>id</em>&nbsp;</td><td>
AGSetId or AGId into which the file will be loaded. </td></tr>
<tr><td valign=top><em>signalInfo</em>&nbsp;</td><td>
A feature-value pair list for the signal information. Features that should be used are: <ul>
<li><code>uri</code> <li><code>mimeClass</code> <li><code>mimeType</code> <li><code>encoding</code> <li><code>unit</code> <li><code>track</code> (optional) </ul>
The values shouldn't be empty. </td></tr>
<tr><td valign=top><em>options</em>&nbsp;</td><td>
A option-value pair list that is used to change the behavior of <code>load()</code> of the I/O module(plugin). </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 List of ids of created <a class="el" href="classAG.html">AG</a>'s </dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="agfio_plugin::store"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual string agfio_plugin::store </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>list&lt; string &gt; *const&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ids</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>map&lt; string, string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>options</em> = NULL</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classagfio_1_1StoreError.html">agfio::StoreError</a>)<code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Same as <code>store()</code> below except that this one accepts a list of AGId's instead of just one AGId/AGSetId.     </td>
  </tr>
</table>
<a name="a1" doxytag="agfio_plugin::store"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual string agfio_plugin::store </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const Id &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>id</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>map&lt; string, string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>options</em> = NULL</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2">  throw (<a class="el" href="classagfio_1_1StoreError.html">agfio::StoreError</a>)<code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Store <a class="el" href="classAG.html">AG</a>'s to a file.<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>filename</em>&nbsp;</td><td>
The name of the file to be written. </td></tr>
<tr><td valign=top><em>id</em>&nbsp;</td><td>
The id of <a class="el" href="classAG.html">AG</a> or <a class="el" href="classAGSet.html">AGSet</a> to be stored. </td></tr>
<tr><td valign=top><em>options</em>&nbsp;</td><td>
A option-value pair list that is used to change the behavior of <code>store()</code> of the I/O module(plugin). </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 An optional string. </dl>    </td>
  </tr>
</table>
<hr>
<table width="100%" border="0px" cellpadding="10px">
<tr><td align="center"><img src="ldclogo.gif"/></td></tr>
</table>
